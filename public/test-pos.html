<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POS System</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root">
        <div style="display: flex; justify-content: center; align-items: center; height: 100vh; background-color: #f3f4f6;">
            <div style="text-align: center;">
                <div style="border: 2px solid #f3f3f3; border-top: 2px solid #3498db; border-radius: 50%; width: 20px; height: 20px; animation: spin 2s linear infinite; margin: 0 auto 16px;"></div>
                <p style="color: #6b7280;">Loading POS System...</p>
            </div>
        </div>
    </div>
    
    <style>
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
    
    <script type="text/babel">
        const { useState, useEffect } = React;
        
        // Define icons
        const iconProps = { width: 24, height: 24, viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2", strokeLinecap: "round", strokeLinejoin: "round" };
        
        const ShoppingCart = (props) => React.createElement('svg', { ...iconProps, ...props }, [
            React.createElement('circle', { key: 'circle1', cx: "9", cy: "21", r: "1" }),
            React.createElement('circle', { key: 'circle2', cx: "20", cy: "21", r: "1" }),
            React.createElement('path', { key: 'path', d: "M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6" })
        ]);
        
        const Plus = (props) => React.createElement('svg', { ...iconProps, ...props }, [
            React.createElement('path', { key: 'path1', d: "M12 5v14" }),
            React.createElement('path', { key: 'path2', d: "M5 12h14" })
        ]);
        
        const Minus = (props) => React.createElement('svg', { ...iconProps, ...props }, [
            React.createElement('path', { key: 'path', d: "M5 12h14" })
        ]);
        
        const X = (props) => React.createElement('svg', { ...iconProps, ...props }, [
            React.createElement('path', { key: 'path1', d: "M18 6 6 18" }),
            React.createElement('path', { key: 'path2', d: "M6 6l12 12" })
        ]);
        
        const Search = (props) => React.createElement('svg', { ...iconProps, ...props }, [
            React.createElement('circle', { key: 'circle', cx: "11", cy: "11", r: "8" }),
            React.createElement('path', { key: 'path', d: "M21 21l-4.35-4.35" })
        ]);
        
        const Package = (props) => React.createElement('svg', { ...iconProps, ...props }, [
            React.createElement('path', { key: 'path1', d: "M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z" }),
            React.createElement('path', { key: 'path2', d: "M3.29 7 12 12l8.71-5" }),
            React.createElement('path', { key: 'path3', d: "M12 22V12" })
        ]);
        
        const BarChart3 = (props) => React.createElement('svg', { ...iconProps, ...props }, [
            React.createElement('path', { key: 'path1', d: "M3 3v18h18" }),
            React.createElement('path', { key: 'path2', d: "M18 17V9" }),
            React.createElement('path', { key: 'path3', d: "M13 17V5" }),
            React.createElement('path', { key: 'path4', d: "M8 17v-3" })
        ]);

        const POSApp = () => {
            const [products] = useState([
                { id: 1, name: 'Coffee', price: 4.50, category: 'Beverages', stock: 50, image: '☕' },
                { id: 2, name: 'Sandwich', price: 8.99, category: 'Food', stock: 25, image: '🥪' },
                { id: 3, name: 'Croissant', price: 3.75, category: 'Food', stock: 15, image: '🥐' },
                { id: 4, name: 'Juice', price: 3.25, category: 'Beverages', stock: 30, image: '🧃' }
            ]);
            
            const [cart, setCart] = useState([]);
            const [currentView, setCurrentView] = useState('pos');
            const [searchTerm, setSearchTerm] = useState('');
            const [selectedCategory, setSelectedCategory] = useState('All');

            const categories = ['All', ...new Set(products.map(p => p.category))];

            const filteredProducts = products.filter(product => {
                const matchesSearch = product.name.toLowerCase().includes(searchTerm.toLowerCase());
                const matchesCategory = selectedCategory === 'All' || product.category === selectedCategory;
                return matchesSearch && matchesCategory;
            });

            const addToCart = (product) => {
                if (product.stock <= 0) return;
                
                const existingItem = cart.find(item => item.id === product.id);
                if (existingItem) {
                    setCart(cart.map(item => 
                        item.id === product.id 
                            ? { ...item, quantity: Math.min(item.quantity + 1, product.stock) }
                            : item
                    ));
                } else {
                    setCart([...cart, { ...product, quantity: 1 }]);
                }
            };

            const updateQuantity = (id, quantity) => {
                if (quantity <= 0) {
                    setCart(cart.filter(item => item.id !== id));
                    return;
                }
                
                const product = products.find(p => p.id === id);
                setCart(cart.map(item => 
                    item.id === id 
                        ? { ...item, quantity: Math.min(quantity, product.stock) }
                        : item
                ));
            };

            const removeFromCart = (id) => {
                setCart(cart.filter(item => item.id !== id));
            };

            const clearCart = () => {
                setCart([]);
            };

            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const tax = subtotal * 0.08;
            const total = subtotal + tax;

            const NavButton = ({ view, icon: Icon, label, active }) => (
                React.createElement('button', {
                    onClick: () => setCurrentView(view),
                    className: `flex items-center gap-2 px-4 py-3 rounded-lg transition-all ${
                        active 
                            ? 'bg-blue-600 text-white shadow-lg' 
                            : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                    }`
                }, [
                    React.createElement(Icon, { key: 'icon', size: 20 }),
                    React.createElement('span', { key: 'label', className: 'font-medium' }, label)
                ])
            );

            const POSView = () => (
                React.createElement('div', { className: 'grid grid-cols-1 lg:grid-cols-3 gap-6 h-full' }, [
                    // Products Section
                    React.createElement('div', { key: 'products', className: 'lg:col-span-2 bg-white rounded-xl shadow-sm border' }, [
                        React.createElement('div', { key: 'header', className: 'p-6 border-b' }, [
                            React.createElement('div', { key: 'controls', className: 'flex flex-col sm:flex-row gap-4 mb-4' }, [
                                React.createElement('div', { key: 'search', className: 'relative flex-1' }, [
                                    React.createElement(Search, { 
                                        key: 'search-icon',
                                        className: 'absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400',
                                        size: 20 
                                    }),
                                    React.createElement('input', {
                                        key: 'search-input',
                                        type: 'text',
                                        placeholder: 'Search products...',
                                        value: searchTerm,
                                        onChange: (e) => setSearchTerm(e.target.value),
                                        className: 'w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500'
                                    })
                                ]),
                                React.createElement('select', {
                                    key: 'category-select',
                                    value: selectedCategory,
                                    onChange: (e) => setSelectedCategory(e.target.value),
                                    className: 'px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500'
                                }, categories.map(cat => 
                                    React.createElement('option', { key: cat, value: cat }, cat)
                                ))
                            ])
                        ]),
                        React.createElement('div', { 
                            key: 'products-grid',
                            className: 'p-6 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 max-h-96 overflow-y-auto' 
                        }, filteredProducts.map(product =>
                            React.createElement('button', {
                                key: product.id,
                                onClick: () => addToCart(product),
                                disabled: product.stock <= 0,
                                className: `p-4 rounded-lg border-2 transition-all ${
                                    product.stock <= 0
                                        ? 'border-gray-200 bg-gray-50 opacity-50 cursor-not-allowed'
                                        : 'border-gray-200 hover:border-blue-300 hover:shadow-md active:scale-95'
                                }`
                            }, [
                                React.createElement('div', { key: 'emoji', className: 'text-3xl mb-2' }, product.image),
                                React.createElement('div', { key: 'name', className: 'font-medium text-sm mb-1' }, product.name),
                                React.createElement('div', { key: 'price', className: 'text-blue-600 font-bold' }, `${product.price.toFixed(2)}`),
                                React.createElement('div', { key: 'stock', className: 'text-xs text-gray-500 mt-1' }, `Stock: ${product.stock}`)
                            ])
                        ))
                    ]),

                    // Cart Section
                    React.createElement('div', { key: 'cart', className: 'bg-white rounded-xl shadow-sm border flex flex-col' }, [
                        React.createElement('div', { key: 'cart-header', className: 'p-6 border-b' }, [
                            React.createElement('h2', { className: 'text-xl font-bold flex items-center gap-2' }, [
                                React.createElement(ShoppingCart, { key: 'cart-icon', size: 24 }),
                                `Cart (${cart.length})`
                            ])
                        ]),
                        React.createElement('div', { key: 'cart-content', className: 'flex-1 p-6' }, [
                            cart.length === 0 ? (
                                React.createElement('div', { className: 'text-center text-gray-400 py-8' }, [
                                    React.createElement(ShoppingCart, { key: 'empty-icon', size: 48, className: 'mx-auto mb-4 opacity-30' }),
                                    React.createElement('p', { key: 'empty-text' }, 'Cart is empty')
                                ])
                            ) : (
                                React.createElement('div', { className: 'space-y-3 mb-6' }, cart.map(item =>
                                    React.createElement('div', { 
                                        key: item.id,
                                        className: 'flex items-center justify-between p-3 bg-gray-50 rounded-lg' 
                                    }, [
                                        React.createElement('div', { key: 'item-info', className: 'flex-1' }, [
                                            React.createElement('div', { className: 'font-medium' }, item.name),
                                            React.createElement('div', { className: 'text-sm text-gray-600' }, `${item.price.toFixed(2)} each`)
                                        ]),
                                        React.createElement('div', { key: 'item-controls', className: 'flex items-center gap-2' }, [
                                            React.createElement('button', {
                                                onClick: () => updateQuantity(item.id, item.quantity - 1),
                                                className: 'w-8 h-8 flex items-center justify-center bg-gray-200 rounded-full hover:bg-gray-300'
                                            }, React.createElement(Minus, { size: 16 })),
                                            React.createElement('span', { className: 'w-8 text-center font-medium' }, item.quantity),
                                            React.createElement('button', {
                                                onClick: () => updateQuantity(item.id, item.quantity + 1),
                                                className: 'w-8 h-8 flex items-center justify-center bg-gray-200 rounded-full hover:bg-gray-300'
                                            }, React.createElement(Plus, { size: 16 })),
                                            React.createElement('button', {
                                                onClick: () => removeFromCart(item.id),
                                                className: 'w-8 h-8 flex items-center justify-center bg-red-100 text-red-600 rounded-full hover:bg-red-200 ml-2'
                                            }, React.createElement(X, { size: 16 }))
                                        ])
                                    ])
                                ))
                            ),

                            cart.length > 0 && [
                                React.createElement('div', { key: 'totals', className: 'border-t pt-4 space-y-2 mb-6' }, [
                                    React.createElement('div', { className: 'flex justify-between' }, [
                                        React.createElement('span', { key: 'subtotal-label' }, 'Subtotal:'),
                                        React.createElement('span', { key: 'subtotal-value' }, `${subtotal.toFixed(2)}`)
                                    ]),
                                    React.createElement('div', { className: 'flex justify-between' }, [
                                        React.createElement('span', { key: 'tax-label' }, 'Tax (8%):'),
                                        React.createElement('span', { key: 'tax-value' }, `${tax.toFixed(2)}`)
                                    ]),
                                    React.createElement('div', { className: 'flex justify-between font-bold text-lg border-t pt-2' }, [
                                        React.createElement('span', { key: 'total-label' }, 'Total:'),
                                        React.createElement('span', { key: 'total-value' }, `${total.toFixed(2)}`)
                                    ])
                                ]),

                                React.createElement('div', { key: 'action-buttons', className: 'flex gap-2' }, [
                                    React.createElement('button', {
                                        onClick: clearCart,
                                        className: 'flex-1 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors'
                                    }, 'Clear Cart'),
                                    React.createElement('button', {
                                        onClick: () => alert(`Processing payment of ${total.toFixed(2)}`),
                                        className: 'flex-1 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium'
                                    }, 'Process Payment')
                                ])
                            ]
                        ])
                    ])
                ])
            );

            const SimpleView = (title, message) => (
                React.createElement('div', { className: 'bg-white rounded-xl shadow-sm border p-8 text-center' }, [
                    React.createElement('h2', { key: 'title', className: 'text-2xl font-bold mb-4' }, title),
                    React.createElement('p', { key: 'message', className: 'text-gray-600' }, message)
                ])
            );

            return React.createElement('div', { className: 'min-h-screen bg-gray-100' }, [
                // Header
                React.createElement('header', { key: 'header', className: 'bg-white shadow-sm border-b' }, [
                    React.createElement('div', { className: 'max-w-7xl mx-auto px-6 py-4' }, [
                        React.createElement('div', { className: 'flex items-center justify-between' }, [
                            React.createElement('h1', { className: 'text-2xl font-bold text-gray-900' }, 'POS System'),
                            React.createElement('div', { className: 'flex items-center gap-4' }, [
                                React.createElement(NavButton, { 
                                    key: 'pos-nav',
                                    view: 'pos', 
                                    icon: ShoppingCart, 
                                    label: 'POS', 
                                    active: currentView === 'pos' 
                                }),
                                React.createElement(NavButton, { 
                                    key: 'inventory-nav',
                                    view: 'inventory', 
                                    icon: Package, 
                                    label: 'Inventory', 
                                    active: currentView === 'inventory' 
                                }),
                                React.createElement(NavButton, { 
                                    key: 'sales-nav',
                                    view: 'sales', 
                                    icon: BarChart3, 
                                    label: 'Sales', 
                                    active: currentView === 'sales' 
                                })
                            ])
                        ])
                    ])
                ]),

                // Main Content
                React.createElement('main', { key: 'main', className: 'max-w-7xl mx-auto p-6' }, [
                    currentView === 'pos' && React.createElement(POSView, { key: 'pos-view' }),
                    currentView === 'inventory' && SimpleView('Inventory Management', 'Inventory features will be available when connected to database.'),
                    currentView === 'sales' && SimpleView('Sales Reports', 'Sales reporting will be available when connected to database.')
                ])
            ]);
        };

        // Initialize the app
        ReactDOM.render(React.createElement(POSApp), document.getElementById('root'));
    </script>
</body>
</html>